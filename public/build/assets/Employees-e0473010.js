import{_ as D}from"./AuthenticatedLayout-528906eb.js";import{e as E,o as h,k as P,d as n,T as S,r as m,a,c as v,w as o,b as t,u as p,Z as T,n as x,x as k,D as V,h as f,N as w}from"./app-ff6ec338.js";import{i as z}from"./index-3ffce261.js";import{h as M}from"./moment-fbc5633a.js";import{_}from"./PrimaryButton-2e8ef213.js";import"./themeOverrides-9d5c4a9b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-9a120b43.js";import"./Copy-ca33d561.js";import"./TextInput-8530188a.js";const Y={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 640 512"},F=n("path",{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z",fill:"currentColor"},null,-1),G=[F],H=E({name:"UserPlus",render:function(l,g){return h(),P("svg",Y,G)}}),q={class:"p-3 max-w-5xl m-auto"},A={class:"mt-3 mb-5 flex justify-end"},L=n("span",{class:"ml-2"},"Invite People",-1),O={class:"p-3"},Z=n("span",{class:"text-white"},"Goto",-1),J={class:"mt-4"},K={class:"flex justify-end"},Q=n("span",null,"Cancel",-1),R=n("span",null,"Invite",-1),ie={__name:"Employees",props:{employees:{type:Object},csrfToken:String},setup(d){const l=d,g=[{title:"No",key:"id"},{title:"Email",key:"email"},{title:"Status",key:"status",render(e){return f(w,{class:"",type:"info",bordered:!1},{default:()=>e.status==0?"Pending":"Accepted"})}},{title:"Generated",key:"generated",render(e){return e.generated>0?f(k,{class:"flex justify-center bg-gray-100 cursor-pointer hover:bg-gray-300 px-[10px] py-[5px] rounded",href:route("enterprise.employee.photos",e.id)},{default:()=>`${e.generated}`}):f(w,{class:"flex justify-center bg-gray-100 px-[10px] py-[5px] rounded",type:"warning",bordered:!1},{default:()=>"No"})}},{title:"Date",key:"created_at",render(e){return M(e.created_at).format("YY-MM-DD HH:mm:ss")}}],r=S({emails:[""]});m({_token:l.csrfToken});const i=m(!1),y=m(l.employees.data??[]),b=e=>{console.log(e);let s=l.employees.links.filter(u=>u.label==e)[0];r.transform(()=>({})).get(s.url,{onFinish:()=>console.log("finished.")})},C=e=>{console.log(e)},$=()=>{i.value=!1,r.post(route("enterprise.invite")+window.location.search,{onFinish:()=>{r.emails=[""],z.success("Successfully invited."),y.value=l.employees.data??[]}})};return(e,s)=>{const u=a("n-icon"),N=a("n-data-table"),j=a("n-pagination"),I=a("n-dynamic-input"),U=a("n-alert"),B=a("n-modal");return h(),v(D,null,{default:o(()=>[t(p(T),{title:"| Enterprise - employees"}),n("div",q,[n("div",A,[t(_,{onClick:s[0]||(s[0]=c=>i.value=!0),class:"flex items-center mt-6 px-10 py-2"},{default:o(()=>[t(u,{class:"text-xl"},{default:o(()=>[t(p(H))]),_:1}),L]),_:1})]),t(N,{columns:g,data:y.value,"onUpdate:sorter":C},null,8,["data"]),n("div",O,[t(j,{class:"justify-end","page-count":d.employees.last_page,"show-quick-jumper":"",page:d.employees.current_page,"onUpdate:page":b},{goto:o(()=>[Z]),_:1},8,["page-count","page"])])]),t(B,{show:i.value,"onUpdate:show":s[3]||(s[3]=c=>i.value=c),class:"custom-card",preset:"card",style:{width:"400px"},title:"ðŸ™‹â€â™‚ï¸ Invite People",bordered:!1,size:"small",segmented:{content:"soft",footer:"soft"}},{footer:o(()=>[n("div",K,[t(_,{onClick:s[2]||(s[2]=c=>i.value=!1),class:"flex items-center px-4 py-2 mr-3 bg-red-600"},{default:o(()=>[Q]),_:1}),t(_,{onClick:$,disabled:!e.$page.props.auth.user.available_employee,class:"flex items-center px-4 py-2"},{default:o(()=>[R]),_:1},8,["disabled"])])]),default:o(()=>[n("div",J,[t(I,{value:p(r).emails,"onUpdate:value":s[1]||(s[1]=c=>p(r).emails=c),placeholder:"Email",min:1,max:e.$page.props.auth.user.available_employee,disabled:!e.$page.props.auth.user.available_employee},null,8,["value","max","disabled"])]),e.$page.props.auth.user.available_employee?V("",!0):(h(),v(U,{key:0,class:"mt-4",type:"warning"},{default:o(()=>[x(" You can't not invite people anymore. If you want to purchase, Click "),t(p(k),{href:e.route("profile.plans"),class:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:o(()=>[x(" here. ")]),_:1},8,["href"])]),_:1}))]),_:1},8,["show"])]),_:1})}}};export{ie as default};
